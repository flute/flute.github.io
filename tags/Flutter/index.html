<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Tag: Flutter - Hexo</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Ludis"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Ludis"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="https://ldsun.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://ldsun.com/img/og_image.png"><meta property="article:author" content="Ludis"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ldsun.com"},"headline":"Hexo","image":["https://ldsun.com/img/og_image.png"],"author":{"@type":"Person","name":"Ludis"},"publisher":{"@type":"Organization","name":"Hexo","logo":{"@type":"ImageObject","url":"https://ldsun.com/img/facvion.png"}},"description":""}</script><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.15.3/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/facvion.png" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/flute"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">Tags</a></li><li class="is-active"><a href="#" aria-current="page">Flutter</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-19T08:02:25.000Z" title="3/19/2019, 4:02:25 PM">2019-03-19</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-03-19T09:12:17.000Z" title="3/19/2019, 5:12:17 PM">2019-03-19</time></span><span class="level-item">14 minutes read (About 2172 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/03/19/Flutter-%E5%AE%9E%E6%88%98%E8%BF%9B%E9%98%B6/">Flutter 实战进阶</a></h1><div class="content"><p>Flutter 在实际开发中遇到的一些问题及解决方案，作为笔记记录。</p>
<h4 id="1、container-width、height-100"><a href="#1、container-width、height-100" class="headerlink" title="1、container width、height 100%"></a>1、container width、height 100%</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FractionallySizedBox(</span><br><span class="line">      widthFactor: 1,</span><br><span class="line">      heightFactor: 1,</span><br><span class="line">      child: ,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">double width = MediaQuery.of(context).size.width</span><br><span class="line">double height = MediaQuery.of(context).size.height</span><br></pre></td></tr></table></figure>


<h4 id="2、沉浸式背景图片"><a href="#2、沉浸式背景图片" class="headerlink" title="2、沉浸式背景图片"></a>2、沉浸式背景图片</h4><p>背景图片铺满Appbar及状态栏</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">    return new Stack(</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        Container(</span><br><span class="line">          child: Image.network(&#x27;https://www.bing.com/az/hprichbg/rb/Punakaiki_DE-DE0884339574_1920x1080.jpg&#x27;),</span><br><span class="line">          color: Colors.lightGreen,</span><br><span class="line">        ),</span><br><span class="line">        Scaffold(</span><br><span class="line">          backgroundColor: Colors.transparent,</span><br><span class="line">          appBar: AppBar(</span><br><span class="line">            backgroundColor: Colors.transparent,</span><br><span class="line">            title: Text(&#x27;Coin&#x27;),</span><br><span class="line">          ),</span><br><span class="line">          body: MyCoinPage(),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15506527024380.jpg!ghost"></p>
<h4 id="3、APPBar-no-shadow"><a href="#3、APPBar-no-shadow" class="headerlink" title="3、APPBar no shadow"></a>3、APPBar no shadow</h4><p>AppBar默认底部有阴影。去掉只需要配置参数即可：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AppBar(</span><br><span class="line">    elevation: 0.0,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="4、自定义字体"><a href="#4、自定义字体" class="headerlink" title="4、自定义字体"></a>4、自定义字体</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">flutter:</span><br><span class="line">  # The following line ensures that the Material Icons font is</span><br><span class="line">  # included with your application, so that you can use the icons in</span><br><span class="line">  # the material Icons class.</span><br><span class="line">  uses-material-design: true</span><br><span class="line"></span><br><span class="line">  fonts: </span><br><span class="line">    - family: Kphi</span><br><span class="line">      fonts: </span><br><span class="line">        - asset: assets/fonts/Komet-Pro-Heavy-Italic.otf</span><br></pre></td></tr></table></figure>

<h4 id="5、Tab切换动画"><a href="#5、Tab切换动画" class="headerlink" title="5、Tab切换动画"></a>5、Tab切换动画</h4><p>Tab切换需加入<code>SingleTickerProviderStateMixin</code></p>
<p>通过 <code>with SingleTickerProviderStateMixin</code> 实现Tab页的切换动画效果。因为初始化<code>animationController</code>的时候需要一个<code>TickerProvider</code>类型的参数<code>Vsync</code>参数，所以我们混入了<code>TickerProvider</code>的子类<code>SingleTickerProviderStateMixin</code>。</p>
<h4 id="6、-逐帧动画-FrameAnimationImage"><a href="#6、-逐帧动画-FrameAnimationImage" class="headerlink" title="6、 逐帧动画 FrameAnimationImage"></a>6、 逐帧动画 <code>FrameAnimationImage</code></h4><p>Flutter 逐帧动画 <code>FrameAnimationImage</code>。 逐帧动画： 依次顺序循环播放多张图片组成一个动画。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">/// Flutter FrameAnimation 逐帧动画</span><br><span class="line">import &#x27;package:flutter/material.dart&#x27;;</span><br><span class="line"></span><br><span class="line">class FrameAnimationImage extends StatefulWidget &#123;</span><br><span class="line">  final List&lt;String&gt; assetList;</span><br><span class="line">  final double width;</span><br><span class="line">  final double height;</span><br><span class="line">  final int interval;</span><br><span class="line"></span><br><span class="line">  FrameAnimationImage(</span><br><span class="line">      &#123;this.assetList, this.width, this.height, this.interval = 200&#125;);</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  State&lt;StatefulWidget&gt; createState() &#123;</span><br><span class="line">    return _FrameAnimationImageState();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class _FrameAnimationImageState extends State&lt;FrameAnimationImage&gt;</span><br><span class="line">    with SingleTickerProviderStateMixin &#123;</span><br><span class="line">  // 动画控制</span><br><span class="line">  Animation&lt;double&gt; _animation;</span><br><span class="line">  AnimationController _controller;</span><br><span class="line">  int interval = 200;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    super.initState();</span><br><span class="line"></span><br><span class="line">    if (widget.interval != null) &#123;</span><br><span class="line">      interval = widget.interval;</span><br><span class="line">    &#125;</span><br><span class="line">    final int imageCount = widget.assetList.length;</span><br><span class="line">    final int maxTime = interval * imageCount;</span><br><span class="line"></span><br><span class="line">    // 启动动画controller</span><br><span class="line">    _controller = new AnimationController(</span><br><span class="line">        duration: Duration(milliseconds: maxTime), vsync: this);</span><br><span class="line">    _controller.addStatusListener((AnimationStatus status) &#123;</span><br><span class="line">      if (status == AnimationStatus.completed) &#123;</span><br><span class="line">        _controller.forward(from: 0.0); // 完成后重新开始</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    _animation = new Tween&lt;double&gt;(begin: 0, end: imageCount.toDouble())</span><br><span class="line">        .animate(_controller)</span><br><span class="line">          ..addListener(() &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              // the state that has changed here is the animation object’s value</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line"></span><br><span class="line">    _controller.forward();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void dispose() &#123;</span><br><span class="line">    _controller.dispose();</span><br><span class="line">    super.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    int ix = _animation.value.floor() % widget.assetList.length;</span><br><span class="line"></span><br><span class="line">    List&lt;Widget&gt; images = [];</span><br><span class="line">    // 把所有图片都加载进内容，否则每一帧加载时会卡顿</span><br><span class="line">    for (int i = 0; i &lt; widget.assetList.length; ++i) &#123;</span><br><span class="line">      if (i != ix) &#123;</span><br><span class="line">        images.add(Image.asset(</span><br><span class="line">          widget.assetList[i],</span><br><span class="line">          width: 0,</span><br><span class="line">          height: 0,</span><br><span class="line">        ));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    images.add(Image.asset(</span><br><span class="line">      widget.assetList[ix],</span><br><span class="line">      width: widget.width,</span><br><span class="line">      height: widget.height,</span><br><span class="line">    ));</span><br><span class="line"></span><br><span class="line">    return Stack(alignment: AlignmentDirectional.center, children: images);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="7、-时间格式化库-intl"><a href="#7、-时间格式化库-intl" class="headerlink" title="7、 时间格式化库 intl"></a>7、 时间格式化库 <code>intl</code></h4><ul>
<li><a target="_blank" rel="noopener" href="https://pub.dartlang.org/packages/intl">pub</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.flutter.io/flutter/intl/DateFormat-class.html">doc</a></li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/16126579/how-do-i-format-a-date-with-dart">usage</a></li>
</ul>
<h4 id="8、-时间格式化库intl和textDirection冲突"><a href="#8、-时间格式化库intl和textDirection冲突" class="headerlink" title="8、 时间格式化库intl和textDirection冲突"></a>8、 时间格式化库<code>intl</code>和<code>textDirection</code>冲突</h4><p>报错如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The getter &#x27;rtl&#x27; isn&#x27;t defined for the class &#x27;TextDirection&#x27;</span><br></pre></td></tr></table></figure>
<p>参考： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/49647795/flutter-rtl-syntax-error-with-packageintl-intl-dart">Stack Overflow</a></p>
<p>解决方案： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;package:intl/intl.dart&#x27; as intl;</span><br></pre></td></tr></table></figure>

<h4 id="9、-convert-string-to-date"><a href="#9、-convert-string-to-date" class="headerlink" title="9、 convert string to date"></a>9、 convert string to date</h4><p>dart将时间字符串转为date库： </p>
<p>参考： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/49385303/convert-datetime-string-to-datetime-object-in-dart">Stack Overflow</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var parsedDate = DateTime.parse(&#x27;1974-03-20 00:00:00.000&#x27;);</span><br><span class="line">print(&#x27;dateTime: $parsedDate&#x27;);</span><br></pre></td></tr></table></figure>


<h4 id="10、-tabcontroller-addListener"><a href="#10、-tabcontroller-addListener" class="headerlink" title="10、 tabcontroller.addListener"></a>10、 tabcontroller.addListener</h4><p>Tab切换时，可以通过<code>tabcontroller.addListener</code>监听切换事件。在实际开发中发现如下问题，可以根据需求选择不同的判断方式:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">_tabController = new TabController(length: 2, vsync: this);</span><br><span class="line">_tabController.addListener(() &#123;</span><br><span class="line">  // _tabController.addListener...</span><br><span class="line">  if (_tabController.indexIsChanging) &#123;</span><br><span class="line">    // _tabController.indexIsChanging...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<p>当点击切换时:</p>
<ul>
<li>_tabController.addListener 触发两次</li>
<li>_tabController.indexIsChanging 触发一次</li>
</ul>
<p>当滑动切换时:</p>
<ul>
<li>_tabController.addListener 触发一次</li>
<li>_tabController.indexIsChanging 不触发</li>
</ul>
<h4 id="11、-FutureBuilder-gt-Future-widget"><a href="#11、-FutureBuilder-gt-Future-widget" class="headerlink" title="11、 FutureBuilder =&gt; Future widget"></a>11、 FutureBuilder =&gt; Future widget</h4><p>参考: <a target="_blank" rel="noopener" href="https://blog.csdn.net/u011272795/article/details/83010974">FutureBuilder 延迟加载组件</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    return new FutureBuilder(</span><br><span class="line">      future: getTextFromFile(),</span><br><span class="line">      initialData: &quot;Loading text..&quot;,</span><br><span class="line">      builder: (BuildContext context, AsyncSnapshot&lt;String&gt; text) &#123;</span><br><span class="line">        return new SingleChildScrollView(</span><br><span class="line">          padding: new EdgeInsets.all(8.0),</span><br><span class="line">          child: new Text(</span><br><span class="line">            text.data,</span><br><span class="line">            style: new TextStyle(</span><br><span class="line">              fontWeight: FontWeight.bold,</span><br><span class="line">              fontSize: 19.0,</span><br><span class="line">            ),</span><br><span class="line">          ));</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;String&gt; getFileData(String path) async &#123;</span><br><span class="line">    return await new Future(() =&gt; &quot;test text&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;String&gt; getTextFromFile() async &#123;</span><br><span class="line">    return getFileData(&quot;test.txt&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12、获取页面生命周期"><a href="#12、获取页面生命周期" class="headerlink" title="12、获取页面生命周期"></a>12、获取页面生命周期</h4><p>使用 <code>with WidgetsBindingObserver</code>后，可以对页面的生命周期进行监听。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">class _LifecycleWatcherState extends State&lt;LifecycleWatcher&gt; with WidgetsBindingObserver &#123;</span><br><span class="line">  AppLifecycleState _lastLifecycleState;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    super.initState();</span><br><span class="line">    WidgetsBinding.instance.addObserver(this);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void dispose() &#123;</span><br><span class="line">    WidgetsBinding.instance.removeObserver(this);</span><br><span class="line">    super.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void didChangeAppLifecycleState(AppLifecycleState state) &#123;</span><br><span class="line">    print(&#x27;current state: $state&#x27;);</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _lastLifecycleState = state;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13、页面重构"><a href="#13、页面重构" class="headerlink" title="13、页面重构"></a>13、页面重构</h4><p><strong>1、TabView + pull_to_refresh 如何优雅共存</strong><br>当页面中有Tab切换，且每个Tab页都是可以下拉刷新、上拉加载的组件时。如果每个<code>TabView</code>使用的是同一个组件，只是根据不同的标识显示不同的内容。在实际开发中发现，这么做虽然可以减少部分代码量，但是出现的问题是，Tab切换时每次都等于是重新渲染公共的组件，导致比较卡顿，且切换时会发生多个TabView间的数据混乱等一些列问题。而且多个TabView公用一个scrollController的话也会出很多问题。</p>
<p>正确的做法是，每个TabView应该是独立组件，包括互相独立的scrollController。只不过其中的一些子组件是可以抽出来共用的，这是没问题的。</p>
<p><strong>2、listView显示占位图。</strong></p>
<p>空列表的一般需要显示占位图，开始的做法是，判断列表为空时，直接返回一个占位图的Container，代替ListView。这样做之后，发现数据为空时就不能下拉刷新了，因为下拉刷新和ListView绑定在一起。于是改为下述方案，当数据为空时任然可以下拉刷新，实时更新数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">child: new SmartRefresher(</span><br><span class="line">headerConfig: const RefreshConfig(completeDuration: 300),</span><br><span class="line">enablePullDown: true,</span><br><span class="line">enablePullUp: true,</span><br><span class="line">onRefresh: _onRefresh,</span><br><span class="line">headerBuilder: LoadingIndicator.buildHeader,</span><br><span class="line">footerBuilder: LoadingIndicator.buildFooter,</span><br><span class="line">controller: _refreshController,</span><br><span class="line">child: (!loading &amp;&amp; _payList.length == 0)</span><br><span class="line">    ? ListView.builder(</span><br><span class="line">        itemCount: 1,</span><br><span class="line">        itemBuilder: (context, i) &#123;</span><br><span class="line">          return _emptyTip();</span><br><span class="line">        &#125;,</span><br><span class="line">      )</span><br><span class="line">    : _listView(),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>


<h4 id="14、网络图片加载组件"><a href="#14、网络图片加载组件" class="headerlink" title="14、网络图片加载组件"></a>14、网络图片加载组件</h4><p>默认的图片加载组件 networkImage，当图片链接错误、为空时，会报exception导致Crash。FadeInImage同理。</p>
<p>参考： <a target="_blank" rel="noopener" href="https://github.com/flutter/flutter/issues/20910">GitHub</a></p>
<p>试了好几款组件都没有做错误处理，最终找到一个可用的组件：<a target="_blank" rel="noopener" href="https://github.com/flutter/flutter_image">Flutter_image</a> ，同时配合<code>FadeInImage</code>设置默认占位图，完美。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">adeInImage(</span><br><span class="line">  fit: fit,</span><br><span class="line">  placeholder: AssetImage(placeHolderImage),</span><br><span class="line">  image: NetworkImageWithRetry(imgUrl),</span><br><span class="line">),</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="15、主题颜色-ThemeData"><a href="#15、主题颜色-ThemeData" class="headerlink" title="15、主题颜色 ThemeData"></a>15、主题颜色 ThemeData</h4><ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/hekaiyou/article/details/76533014">主体颜色常识</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Norbert515/dynamic_theme">动态设置主题色</a></li>
</ul>
<h4 id="16、网络图片加载失败Exception"><a href="#16、网络图片加载失败Exception" class="headerlink" title="16、网络图片加载失败Exception"></a>16、网络图片加载失败Exception</h4><p>使用 <code>flutter_image</code> 的 <code>NetworkImageWithRetry</code> 代替 <code>NetworkImage</code> 后，当图片404或者错误时，确实没有报Exception奔溃，但是安卓端却显示crash。</p>
<p>换了很多其他的插件都不好使，最终查明，<code>NetworkImageWithRetry</code>虽然可以catch exception不让应用奔溃，但是会触发Flutter.onError，而安卓端在检测到onError之后，当做crash处理，直接将页面关闭….</p>
<p>方案： 修改组件源码，图片加载失败时，不要触发Flutter.onError。</p>
<h4 id="17、ActionSheet-点击隐藏"><a href="#17、ActionSheet-点击隐藏" class="headerlink" title="17、ActionSheet 点击隐藏"></a>17、ActionSheet 点击隐藏</h4><p>点击 ActionSheet 选择某项后，隐藏之。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context, rootNavigator: true).pop(&quot;Discard&quot;);</span><br></pre></td></tr></table></figure>

<h4 id="18、阻止软键盘顶起页面"><a href="#18、阻止软键盘顶起页面" class="headerlink" title="18、阻止软键盘顶起页面"></a>18、阻止软键盘顶起页面</h4><p>当软键盘弹起时，会将页面高度缩减，导致页面中的内容随着父级高度变化而变化。即软键盘弹起时将内容顶起，导致诸多问题。</p>
<p>解决方案：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">return Scaffold(</span><br><span class="line">  appBar: AppBar(</span><br><span class="line">    title: new Text(&quot;通讯录&quot;),</span><br><span class="line">  ),</span><br><span class="line">	resizeToAvoidBottomPadding: false, //输入框抵住键盘 内容不随键盘滚动</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="19、dart正则"><a href="#19、dart正则" class="headerlink" title="19、dart正则"></a>19、<code>dart</code>正则</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">RegExp regExp = new RegExp(</span><br><span class="line">  r&#x27;(ludis)&#x27;,</span><br><span class="line">  caseSensitive: false, // 是否大小写敏感</span><br><span class="line">  multiLine: false, // 待匹配文字是否是多行的</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">// 正则</span><br><span class="line">var d = regExp.allMatches(text);</span><br><span class="line">d.forEach((f) =&gt; print(f.group(0)));</span><br><span class="line">print(&#x27;match result, $&#123;d.toString()&#125;, $&#123;d.toList()&#125;&#x27;);</span><br></pre></td></tr></table></figure>

<h4 id="20、键盘确认按钮样式"><a href="#20、键盘确认按钮样式" class="headerlink" title="20、键盘确认按钮样式"></a>20、键盘确认按钮样式</h4><p>键盘的确认按钮会显示为“搜索”，点击后触发<code>onSubmitted</code>事件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">TextFormField( </span><br><span class="line">  ...</span><br><span class="line">  textInputAction: TextInputAction.done,</span><br><span class="line">  ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="21、Map类型错误"><a href="#21、Map类型错误" class="headerlink" title="21、Map类型错误"></a>21、Map类型错误</h4><p>json转换时报错如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;_InternalLinkedHashMap&lt;dynamic, dynamic&gt;&#x27; is not a subtype of type &#x27;Map&lt;String, dynamic&gt;&#x27;</span><br></pre></td></tr></table></figure>

<p>原因: 类型为<code>Map</code>的其实际类型为<code>Map&lt;dynamic, dynamic&gt;</code>而非<code>Map&lt;String, dynamic&gt;</code>。</p>
<p>解决方法： 进行转换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Map json; // Map&lt;dynamic, dynamic&gt;</span><br><span class="line">Map&lt;String, dynamic&gt; = new Map&lt;String, dynamic&gt;.from(json); // Map&lt;String, dynamic&gt;</span><br></pre></td></tr></table></figure>

<h4 id="22、GestureDetector-点击区域小"><a href="#22、GestureDetector-点击区域小" class="headerlink" title="22、GestureDetector 点击区域小"></a>22、GestureDetector 点击区域小</h4><p>使用<code>GestureDetector</code>包裹<code>Container</code>，发现在<code>Container</code>内容为空的区域点击时，捕捉不到<code>onTap</code>点击事件。</p>
<p>参考： <a target="_blank" rel="noopener" href="https://github.com/flutter/flutter/issues/17383">GitHub</a></p>
<p>解决方法： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GestureDetector(</span><br><span class="line">    behavior: HitTestBehavior.opaque,</span><br><span class="line">    onTap: ()&#123;&#125;,</span><br><span class="line">    child: Container()</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="23、TextField优化："><a href="#23、TextField优化：" class="headerlink" title="23、TextField优化："></a>23、TextField优化：</h4><p><code>TextField decoration</code> 可使用以下两种：</p>
<ul>
<li>使用 <code>InputDecoration.collapsed()</code> 。其高度不能和父级同高，导致可点击区域变小，用户体验不好。优势在于<code>InputDecoration.collapsed()</code>为无边框的输入框。</li>
<li>使用<code>InputDecoration</code>。可使输入框高度和父级同高，扩大可点击区域。去掉边框即可。</li>
</ul>
<p>解决方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InputDecoration(</span><br><span class="line">    border: InputBorder.none, // 去除输入框边框</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h4 id="24、Flutter-hide-keyboard"><a href="#24、Flutter-hide-keyboard" class="headerlink" title="24、Flutter hide keyboard"></a>24、Flutter hide keyboard</h4><p>调用方法隐藏键盘。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FocusScope.of(context).requestFocus(new FocusNode());</span><br></pre></td></tr></table></figure>

<h4 id="25、去除TextFiled水纹效果-ripple-effect"><a href="#25、去除TextFiled水纹效果-ripple-effect" class="headerlink" title="25、去除TextFiled水纹效果 ripple effect"></a>25、去除TextFiled水纹效果 ripple effect</h4><p>参考： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/50020523/how-to-disable-default-widget-splash-effect-in-flutter">how-to-disable-default-widget-splash-effect-in-flutter</a> </p>
<p>解决方案： </p>
<ol>
<li>使用自定义主体，覆盖默认主题</li>
<li>给组件包裹Theme容器，设置 <code>splashFactory</code> 为 <code>Colors.transparent</code>。✅</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">child: new Theme(</span><br><span class="line">  data: new ThemeData(splashFactory: Colors.transparent),</span><br><span class="line">  child: new TextField(...),</span><br><span class="line">),</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Dart-数组、字符串常用方法："><a href="#Dart-数组、字符串常用方法：" class="headerlink" title="Dart 数组、字符串常用方法："></a>Dart 数组、字符串常用方法：</h4><ul>
<li><p>Dart Array methods: <a target="_blank" rel="noopener" href="https://codeburst.io/top-10-array-utility-methods-you-should-know-dart-feb2648ee3a2">https://codeburst.io/top-10-array-utility-methods-you-should-know-dart-feb2648ee3a2</a></p>
</li>
<li><p>Dart String methods: <a target="_blank" rel="noopener" href="https://codeburst.io/top-10-string-utility-methods-you-should-know-dart-b51ef65b3cc2">https://codeburst.io/top-10-string-utility-methods-you-should-know-dart-b51ef65b3cc2</a> </p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-02-12T09:00:05.000Z" title="2/12/2019, 5:00:05 PM">2019-02-12</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-04-13T09:18:17.000Z" title="4/13/2019, 5:18:17 PM">2019-04-13</time></span><span class="level-item">17 minutes read (About 2497 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/02/12/Flutter%E7%BB%84%E4%BB%B6%E5%90%88%E9%9B%86/">Flutter组件合集</a></h1><div class="content"><h2 id="Element"><a href="#Element" class="headerlink" title="Element"></a>Element</h2><h4 id="Form"><a href="#Form" class="headerlink" title="Form"></a>Form</h4><p>1、Input</p>
<ul>
<li>TextField  最常用的文本输入组件。<ul>
<li>用户修改文本时，可通过Onchange获取最新的文本信息。</li>
<li>onSubmitted可获取到软键盘的确认按钮。</li>
<li>默认下方有一个横线，decoration属性可以设置图标、padding等更多属性</li>
</ul>
</li>
</ul>
<p>2、Checkbox</p>
<ul>
<li><p>CheckboxListTile<br>下拉复选框，带有复选框的ListTile，带有标签的ListTile<br>整个列表的图块是交互的，点击图块中的任意位置可切换复选框。</p>
</li>
<li><p>Checkbox</p>
</li>
</ul>
<p>3、Button</p>
<ul>
<li><p>FlatButton<br>  默认无边框，无背景色的按钮<br>  FlatButton.icon 为带图标的</p>
</li>
<li><p>RaiseButton<br>  凸起的按钮——带有shadow阴影的质感按钮<br>  RaiseButton.icon 为带图标的</p>
</li>
<li><p>IconButton<br>  纯图标按钮，无边框无背景色</p>
</li>
<li><p>PopupMenuButton<br>  弹出菜单栏的图标。<br>  PopupMenuButton 和 popupMenuItem 配合使用。<br>  选择菜单项时，触发onSelected方法。</p>
</li>
<li><p>FloatingActionButton<br>  默认的圆形悬浮按钮，每个页面最多一个。Scaffold.floatingActionButton</p>
</li>
<li><p>RawMateriaButton<br>  不使用当前Theme或ButtonTheme，高度自定义的Materail button</p>
</li>
<li><p>DropdownButton<br>  从项目列表进行选择的按钮。</p>
</li>
<li><p>OutlineButton<br>  RaisedButton 和 FlatButton的交叉，有边框。高程最初为0，背景透明。按下按钮时，背景变不透明，高程增加</p>
</li>
</ul>
<p>4、Text</p>
<ul>
<li>Text<br>  一行/多行文本显示</li>
<li>RichText</li>
</ul>
<p>5、Radio</p>
<ul>
<li>Radio</li>
<li>RadioListTile<br>  点击按钮附加的文字时，同样可以触发点击效果</li>
</ul>
<p>6、Slider</p>
<ul>
<li>Slider 范围选择滑块</li>
<li>SliderTheme 自定义Slider的样式</li>
<li>SliderThemeData SliderTheme的data修饰属性</li>
</ul>
<p>7、Switch</p>
<ul>
<li><p>Switch<br>  Switch、Switch.adaptive(ios风格)<br>  可自定义背景图、背景颜色等</p>
</li>
<li><p>SwitchListTile<br>  衍生组件，可以通过点击关联的文字标签切换switch</p>
</li>
<li><p>AnimatedSwitcher<br>  一个在新旧组件之间做渐变切换的组件，有一定的动画效果</p>
</li>
</ul>
<h4 id="Frame"><a href="#Frame" class="headerlink" title="Frame"></a>Frame</h4><p>1、Align<br>    Alignment.center/centerLeft/bottomLeft（yx）</p>
<p>2、Stack</p>
<ul>
<li><p>Stack<br>  绝对布局，依次叠加。</p>
</li>
<li><p>IndexedStack<br>  显示一个子项列表中的单个子项（只显示指定的一个子选项）</p>
</li>
</ul>
<p>3、Layout</p>
<ul>
<li>Row</li>
<li>Column</li>
<li>Container<br>  最小空间原则</li>
<li>Center</li>
</ul>
<p>4、Box</p>
<ul>
<li><p>ContainerBox<br>  添加额外的限制条件到child上。比如最大/最小高度/宽度</p>
</li>
<li><p>OverflowBox<br>  对子组件添加的约束，不同于子组件从其父组件获得的约束，<strong>允许child溢出父控件的空间</strong>。</p>
</li>
<li><p>DecoratedBox<br>  在child绘制前或绘制后，添加额外的限制条件到child上，可以用来绘制一个圆形、方形、padding等。</p>
</li>
<li><p>FittedBox<br>  根据需求对child进行缩放、定位。contain/fill/cover/fitHeight/fitWidth</p>
</li>
<li><p>LimitedBox<br>  对最大宽高进行限制（前提是LimitedBox不受约束），即将child限制在指定的最大宽高中。</p>
</li>
<li><p>RoraredBox<br>  可以将子组件旋转整数的四分之一</p>
</li>
<li><p>SizedOverflowBox<br>  特定大小的窗口组件，将其约束传递给其子组件，可能会溢出。</p>
</li>
<li><p>UnconstrainedBox<br>  不限制子组件的大小，让子组件尽可能的扩展</p>
</li>
</ul>
<p>5、Expanded</p>
<ul>
<li>Expanded<br>  撑开flex布局子组件空间</li>
</ul>
<p>6、Spacing</p>
<ul>
<li><p>Padding<br>  内边距</p>
</li>
<li><p>SliverPadding<br>  列表缩进，应用于每个子元素</p>
</li>
<li><p>AnimatedPadding<br>  缩进变化时的动画</p>
</li>
</ul>
<p>7、Table</p>
<ul>
<li>Table</li>
</ul>
<h4 id="Media"><a href="#Media" class="headerlink" title="Media"></a>Media</h4><p>1、Image</p>
<ul>
<li><p>AssetImage<br>  从AssetBundle中获取图像</p>
</li>
<li><p>DecorationImage<br>  修饰Box的图片，一般配合BoxDecoration的img属性使用</p>
</li>
<li><p>ExactAssetImage<br>  带有scale属性的AssetImage</p>
</li>
<li><p>FadeInImage<br>  提供placeholder image到目标图片的过度效果</p>
</li>
<li><p>FileImage<br>  展示本地的文件，将给定的File对象解码为图片。Image.file是ImageFile的简写形式</p>
</li>
<li><p>NetworkImage<br>  网络图片</p>
</li>
<li><p>RawImage<br>  显示dart:ui.Image的组件，很少使用，推荐使用Image</p>
</li>
<li><p>MemoryImage<br>  将给定的Unit8List缓冲区解码为图像的组件</p>
</li>
<li><p>Image<br>  Image.asset 加载项目资源目录的图片，相对路径<br>  Image.network网络资源图片<br>  Image.file加载本地图片<br>  Image.memory 加载Unit8List资源图片</p>
</li>
</ul>
<p>2、Icon</p>
<ul>
<li><p>Icon</p>
</li>
<li><p>ImageIcon<br>  来自ImageProvider的图标，如AssetImage</p>
</li>
<li><p>IconTheme<br>  用于应用栏图标的言责、不透明度和大小</p>
</li>
<li><p>IconData</p>
</li>
<li><p>IconThemeData</p>
</li>
</ul>
<p>3、Canvas</p>
<ul>
<li>Canvas<br>  用于操作图形的界面</li>
<li>PainterSketch<br>  操作图形的界面</li>
<li>PainterPath<br>  在canvas上绘制的团</li>
<li>CircleProgressBarPainter<br>  操作图形的界面</li>
</ul>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h4 id="Navigation"><a href="#Navigation" class="headerlink" title="Navigation"></a>Navigation</h4><p>1、BottomNavigationBarItem<br>2、BottomNavigationbar<br>    底部导航</p>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><p>1、AnimatedList<br>新增、删除选项时可以设置动画<br>2、ListView<br>最常用<br>3、ListBody<br>不常用，按照主轴方向排列子节点</p>
<h4 id="Card"><a href="#Card" class="headerlink" title="Card"></a>Card</h4><p>1、Card<br>卡片用于表示一些相关信息，例如相册，地理位置，用餐，联系方式等。</p>
<h4 id="Bar"><a href="#Bar" class="headerlink" title="Bar"></a>Bar</h4><p>1、AppBar<br>应用栏——顶部导航显示的工具栏<br>2、BottomAppBar<br>底部应用栏<br><img src="media/15498692344135/15498814007297.jpg"></p>
<p>3、BottomNavigationBarItem<br>底部导航应用栏的子项<br>4、SnackBar<br>屏幕底部弹出的提示信息<br>5、Sliverbar<br>SliderApperBar可随内容滚动，一般在scroll滑动视图中。与NestedScrollView配合可实现上提到顶的悬停。<br>6、ScrollbarPainter<br>7、FlexibleSpaceBar<br>类似 Sliverbar, ”扩展和折叠的应用栏“，APPBar的一部风，可以扩展和折叠；<br>8、ButtonBar<br>末端对齐的按钮容器，向左向右看齐的按钮。<br>9、SnackBarAction<br>SnackBar，底部消息右侧有无可操作的行为<br>10、TabBar<br>实现并行界面的横向滑动展示</p>
<h4 id="Dialog"><a href="#Dialog" class="headerlink" title="Dialog"></a>Dialog</h4><p>1、AlertDoalog<br>弹出对话框，可自定义操作选项<br>2、Dialog<br>无可操作选项的弹出层<br>3、AboutDialog<br>通常用于展示信息<br>4、SimpleDialog<br>可以为用户提供多个选项选择，有一个可选的标题，显示在选项上方</p>
<h4 id="Scaffold"><a href="#Scaffold" class="headerlink" title="Scaffold"></a>Scaffold</h4><p>1、Scaffold<br>基本的布局结构。Scaffold支持顶栏、侧边栏、底部导航栏等常用布局<br>2、ScaffoldState<br>通常用来控制SnackBars和BottomSheets和Drawer的显示和隐藏。</p>
<h4 id="Grid"><a href="#Grid" class="headerlink" title="Grid"></a>Grid</h4><p>1、GridTile<br>GridList中的一种瓷片组合，包含header、body、footer三部分<br>2、GridView<br>常见的滚动列表，会占满给出的空间区域。<br>3、GridPaper<br>会在GridView的item上层浮现一层网格<br>4、SliverGrid<br>可以将多个item以每行两个的形式进行排列<br>5、GridTileBar<br>通常用来做GridTile的header与footer组件。</p>
<h4 id="Scroll"><a href="#Scroll" class="headerlink" title="Scroll"></a>Scroll</h4><p>1、ScrollView<br>滚动视图，属于抽象类，不能直接实例化。<br>ListView: 常用的ScrollView<br>PageView： 每个子widget都是视口窗口大小<br>GridView： 一个现实二维子widget的ScrollView<br>CustomScrollView： 自定义滚动效果的ScrollView<br>SingleChildScrollView: 只有一个子Widget的ScrollView<br>ScrollNotification、NotificationListener： 可以用于在不使用ScrollController的情况下查看滚动位置的widget</p>
<p>2、Scrollable<br>一个可以使内容滚动的Widget<br>3、ScrollbarPainter<br>用户绘制滚定条的CustomPainter。<br>4、ScrollMetrics<br>包含当前ViewPort及滚动位置等信息，抽象类，不可被实例化。<br>5、ScrollPhysics<br>确定滚动组件的物理属性<br>6、BoxScrollView<br>使用单个子布局模型的ScrollView<br>ListView、GridView、CustomScrollView<br>7、CustomScrollView<br>自定义滚动效果的ScrollView<br>8、NestedScrollView （⭐️）<br>可以嵌在另一个滚动视图中的ScrollView</p>
<h4 id="Tab"><a href="#Tab" class="headerlink" title="Tab"></a>Tab</h4><p>1、Tab<br>Tab切换，如果同时传给Tab icon和text，text会展示在icon下面</p>
<h4 id="Menu"><a href="#Menu" class="headerlink" title="Menu"></a>Menu</h4><p>1、CheckedPopupMenuItem<br>带有选中标记的弹出菜单，配合PopupMenuButton使用<br>2、DropdownMenuItem<br>DropdownButton创建的一个菜单项，配合DropdownButton使用<br>3、PopupMenuButton<br>一个提供菜单栏弹出对话框的按钮<br>4、PopupMenuDivider<br>菜单栏弹出对话框中每一项的水平线<br>5、PopupMenuEntry<br>弹出菜单的一个基类<br>6、PopupMenuItem</p>
<h4 id="Pick"><a href="#Pick" class="headerlink" title="Pick"></a>Pick</h4><p>1、DayPicker<br>显示给定月份的日期，并可以选择一天<br>2、MonthPicker<br>选择一个月的可滚动月份列表，同上<br>3、YearPicker<br>同上<br>4、ShowdatePicker<br>日期选择器的对话框<br>5、CityPicker<br>显示中国的省市县区，通过函数showCityPicker调用，在容器窗口上弹出遮罩层</p>
<h4 id="Chip"><a href="#Chip" class="headerlink" title="Chip"></a>Chip</h4><p>1、Chip<br>chip是表示属性，文本，实体或动作的元素。<br><img src="media/15498692344135/15499571429653.jpg"></p>
<p>2、ChipTheme<br>描述chip的颜色，形状和文本样式<br>3、ChipThemeData<br>保存chip主题的颜色，形状和文本样式<br>4、ChoiceChip<br>允许从一组选项中进行单一的选择<br>5、FilterChip<br>通过使用标签或者描述性词语来过滤内容<br>6、InputChip<br>输入型chip<br>7、RawChip</p>
<h4 id="Panel"><a href="#Panel" class="headerlink" title="Panel"></a>Panel</h4><p>1、ExpansionPanelList<br>扩展面板，包含一个标题和一个正文，可以展开或者折叠。面板展开，主体可见。</p>
<h4 id="Progress"><a href="#Progress" class="headerlink" title="Progress"></a>Progress</h4><p>1、LinearProgressIndicator<br>一个线性进度条<br>2、CircularProhressIndicator<br>循环进度条，旋转表示进度</p>
<h2 id="Themes"><a href="#Themes" class="headerlink" title="Themes"></a>Themes</h2><h4 id="Materail"><a href="#Materail" class="headerlink" title="Materail"></a>Materail</h4><p>1、MaterialApp<br>代表Material设计风格的应用<br>2、MaterailColor<br>颜色值<br>3、MaterailButton<br>4、MaterailPageRoute<br>页面跳转携带参数替换整个屏幕的页面路由<br>5、MaterailAccentColor<br>用来定义单一的强调色，以及四种色调的色系<br>6、MergeableMaterialItem</p>
<h4 id="Cupertino（IOS-style）"><a href="#Cupertino（IOS-style）" class="headerlink" title="Cupertino（IOS style）"></a>Cupertino（IOS style）</h4><p>1、CupertinoApp<br>Cupertino苹果设计风格的应用，用于创IOS风格应用的顶层组件（Cupertino苹果电脑的全球总公司所在地，位于美国旧金山）。<br>包含了iOS应用程序通常需要的许多widget<br>2、CupertinoButton<br>iOS风格的button<br>3、CupertinoColors<br>iOS平台常用的颜色<br>4、CupertinoIcons<br>Cupertino图标的标识符<br>5、CupertinoNavigationBar<br>iOS风格的导航栏<br>6、CupertinoPageRoute<br>iOS风格全屏切换路由的滑动动画<br>7、CupertinoPageScaffold<br>实现单个iOS应用程序页的页面布局<br>8、CupertinoPicker<br>iOS风格的选择器<br>9、CupertinoPopupSurface<br>像iOS弹出式表面，快速实现一个圆角弹框<br>10、CupertinoScrollbar<br>iOS风格的滚动条<br>11、CupertinoSlider<br>iOS风格的Slider，选择连续性或非连续性的数据<br>12、CupertinoSegmentedControl<br><img src="media/15498692344135/15499590649228.jpg"><br>展示一些用户可以选择的选项<br>13、CupertinoSliverNavigationBar<br>iOS-11风格下拥有较大标题块的导航栏目<br>14、CupertinoSwitch<br>iOS风格的switch开关<br>15、CupertinoTabBar<br>iOS风格的底部导航栏<br>16、CupertinotabScaffold<br>iOS应用程序的选项卡的根布局结构<br>17、CupertinoTabView<br>具有自己的Navigator状态与历史记录的选项卡试图组件。<br>该组件有自己的路由体系，有自己的导航体系，并且他自身内部的导航系统并不与任何父母元素共享<br>18、CupertinoTimerPicker<br>iOS风格下的时间选择组件</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-01-20T06:10:47.000Z" title="1/20/2019, 2:10:47 PM">2019-01-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2019-01-20T14:15:24.000Z" title="1/20/2019, 10:15:24 PM">2019-01-20</time></span><span class="level-item">25 minutes read (About 3799 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/01/20/Flutter%E5%AD%A6%E4%B9%A0%E4%B9%8B%E6%97%85%E2%80%94%E2%80%94%E5%AE%9E%E7%94%A8%E5%85%A5%E5%9D%91%E6%8C%87%E5%8D%97/">Flutter学习之旅——实用入坑指南</a></h1><div class="content"><p>开篇： 一如前端深似海，<del>从此节操是路人</del>，<del>从此再无安宁日</del>，从此红尘是路人。要说技术更迭速度，还有比前端更快的么😂根本停不下来。这不，Google刚发布Flutter不到一年时间，1.0正式版发布不到两个月。阿里系的闲鱼老大哥，已经率先用Flutter重构了闲鱼，虽然没完全重构，但高频的重度页面都是Flutter的了。这一幕似曾相识，当初RN出来的时候不也是闲鱼团队先吃的螃蟹吗，在这里向闲鱼团队的老哥们致敬🐣。</p>
<p>既然老大哥都出动了，也侧面验证了这项技术的可行性。当小弟的也不能落后嘛，每天抽时间断断续续的学了两周时间，仿部分知乎的客户端，撸了一套客户端出来。前一周主要是熟悉Dart语言和常规的客户端布局方式，后一周主要是掌握使用HTTP的请求、下拉上拉、左滑右滑、长按等常用手势、相机调用、video播放等进阶用法。 两周下来，基本上可以开发80%以上常见的客户端需求。</p>
<p>前期一直在用simulator开发，略有卡顿，心中难免有些疑惑。结果最后release打包到手机后，竟然如丝般顺滑！！！简直喜出望外，完全可以睥睨原生开发，在这一点上的确要优于目前的RN。最重要的是作为Materail Design极简又有质感风格的<del>鸭</del>狗血粉丝，Flutter造出来的界面简直倍爽。至此正式入坑Flutter开发。Google万岁！</p>
<blockquote>
<p>Flutter是谷歌的移动UI框架，可以快速在iOS和Android上构建高质量的原生用户界面。 Flutter可以与现有的代码一起工作。在全世界，Flutter正在被越来越多的开发者和组织使用，并且Flutter是完全免费、开源的。</p>
<p>Beta1版本于2018年2月27日在2018 世界移动大会公布。<br>Beta2版本2018年3月6日发布。<br>1.0版本于2018年12月5日(北京时间)发布</p>
</blockquote>
<p>这里把学习过程中一些常用高频的东西总结出来，基本能满足大多数情况下的开发需求。</p>
<p>完整的代码： <a target="_blank" rel="noopener" href="https://github.com/flute/zhihu_flutter">https://github.com/flute/zhihu_flutter</a></p>
<p>欢迎加入Flutter开拓交流，群聊号码：236379502</p>
<h3 id="Scaffold-主要的属性说明"><a href="#Scaffold-主要的属性说明" class="headerlink" title="Scaffold 主要的属性说明"></a>Scaffold 主要的属性说明</h3><ul>
<li>appBar：显示在界面顶部的一个 AppBar </li>
<li>body：当前界面所显示的主要内容</li>
<li>floatingActionButton： 在 Material 中定义的一个功能按钮。</li>
<li>persistentFooterButtons：固定在下方显示的按钮。<a target="_blank" rel="noopener" href="https://material.google.com/components/buttons.html#buttons-persistent-footer-buttons">https://material.google.com/components/buttons.html#buttons-persistent-footer-buttons</a></li>
<li>drawer：侧边栏控件</li>
<li>bottomNavigationBar：显示在底部的导航栏按钮栏。可以查看文档：Flutter学习之制作底部菜单导航</li>
<li>backgroundColor：背景颜色</li>
<li>resizeToAvoidBottomPadding： 控制界面内容 body 是否重新布局来避免底部被覆盖了，比如当键盘显示的时候，重新布局避免被键盘盖住内容。默认值为 true。</li>
</ul>
<h3 id="底部菜单-bottomNavigationBar，Tab栏切换-TabBar"><a href="#底部菜单-bottomNavigationBar，Tab栏切换-TabBar" class="headerlink" title="底部菜单 bottomNavigationBar，Tab栏切换 TabBar"></a>底部菜单 bottomNavigationBar，Tab栏切换 TabBar</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">TabController controller;</span><br><span class="line"></span><br><span class="line">@override</span><br><span class="line">void initState() &#123;</span><br><span class="line">  super.initState();</span><br><span class="line"></span><br><span class="line">  // initialize the tab controller</span><br><span class="line">  // vsync ??</span><br><span class="line">  controller = new TabController(length: 5, vsync: this);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@override</span><br><span class="line">void dispose() &#123;</span><br><span class="line">  // dispose of tab controller</span><br><span class="line">  controller.dispose();</span><br><span class="line">  super.dispose();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">body: new TabBarView(</span><br><span class="line">  children: &lt;Widget&gt;[new HomeTab(), new IdeaTab(), new ColleagueTab(), new MessageTab(), new MeTab()],</span><br><span class="line">  controller: controller,</span><br><span class="line">),</span><br><span class="line">bottomNavigationBar: new Material(</span><br><span class="line">  // background color of bottom navigation bar</span><br><span class="line">  color: Colors.white,</span><br><span class="line">  textStyle: new TextStyle(</span><br><span class="line">    color: Colors.black45</span><br><span class="line">  ),</span><br><span class="line">  child: new TabBar(</span><br><span class="line">    unselectedLabelColor: Colors.black45,</span><br><span class="line">    labelColor: Colors.blue,</span><br><span class="line">    controller: controller,</span><br><span class="line">    tabs: &lt;Tab&gt;[</span><br><span class="line">      new Tab(</span><br><span class="line">        child: new Container(</span><br><span class="line">          padding: EdgeInsets.only(top: 5),</span><br><span class="line">          child: new Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.home, size: 25,),</span><br><span class="line">              Text(&#x27;首页&#x27;, style: TextStyle(fontSize: 10),)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      new Tab(</span><br><span class="line">        child: new Container(</span><br><span class="line">          padding: EdgeInsets.only(top: 5),</span><br><span class="line">          child: new Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.access_alarm, size: 25,),</span><br><span class="line">              Text(&#x27;想法&#x27;, style: TextStyle(fontSize: 10),)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      new Tab(</span><br><span class="line">        child: new Container(</span><br><span class="line">          padding: EdgeInsets.only(top: 5),</span><br><span class="line">          child: new Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.access_time, size: 25,),</span><br><span class="line">              Text(&#x27;大学&#x27;, style: TextStyle(fontSize: 10),)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      new Tab(</span><br><span class="line">        child: new Container(</span><br><span class="line">          padding: EdgeInsets.only(top: 5),</span><br><span class="line">          child: new Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.account_balance_wallet, size: 25,),</span><br><span class="line">              Text(&#x27;消息&#x27;, style: TextStyle(fontSize: 10),)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      new Tab(</span><br><span class="line">        child: new Container(</span><br><span class="line">          padding: EdgeInsets.only(top: 5),</span><br><span class="line">          child: new Column(</span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.adb, size: 25,),</span><br><span class="line">              Text(&#x27;我的&#x27;, style: TextStyle(fontSize: 10),)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15479578988617.jpg!ghost"></p>
<h3 id="顶栏自定义-appbar：title属性"><a href="#顶栏自定义-appbar：title属性" class="headerlink" title="顶栏自定义 appbar：title属性"></a>顶栏自定义 appbar：title属性</h3><p>顶部搜索栏:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">@override</span><br><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">  return new Scaffold(</span><br><span class="line">    appBar: new AppBar(</span><br><span class="line">      title: searchBar(),</span><br><span class="line">      backgroundColor: Colors.white,</span><br><span class="line">      bottom: new Text(&#x27;bottom&#x27;),</span><br><span class="line">    ),</span><br><span class="line">    body: new Container()</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 顶部搜索栏</span><br><span class="line"> */</span><br><span class="line">Widget searchBar() &#123;</span><br><span class="line">  return new Container(</span><br><span class="line">    child: new Row(</span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        new Expanded(</span><br><span class="line">          child: new FlatButton.icon(</span><br><span class="line">            color:Color.fromRGBO(229, 229, 229, 1.0),</span><br><span class="line">            onPressed: ()&#123;</span><br><span class="line">              Navigator.of(context).push(new MaterialPageRoute(builder: (context)&#123;</span><br><span class="line">                return new SearchPage();</span><br><span class="line">              &#125;));</span><br><span class="line">            &#125;,</span><br><span class="line">            icon: new Icon(</span><br><span class="line">              Icons.search,</span><br><span class="line">              color: Colors.black38,</span><br><span class="line">              size: 16.0,</span><br><span class="line">            ),</span><br><span class="line">            label: new Text(</span><br><span class="line">              &quot;诺奖得主为上课推迟发布会&quot;,</span><br><span class="line">              style: new TextStyle(color: Colors.black38)</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        new Container(</span><br><span class="line">          child: new FlatButton.icon(</span><br><span class="line">            onPressed: ()&#123;</span><br><span class="line">              Navigator.of(context).push(new MaterialPageRoute(builder: (context)&#123;</span><br><span class="line">                return new AskPage();</span><br><span class="line">              &#125;));</span><br><span class="line">            &#125;,</span><br><span class="line">            icon: new Icon(</span><br><span class="line">              Icons.border_color,</span><br><span class="line">              color: Colors.blue,</span><br><span class="line">              size: 14.0</span><br><span class="line">            ),</span><br><span class="line">            label: new Text(</span><br><span class="line">              &#x27;提问&#x27;,</span><br><span class="line">              style: new TextStyle(color: Colors.blue),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15479578815954.jpg!ghost"></p>
<h3 id="图片圆角"><a href="#图片圆角" class="headerlink" title="图片圆角"></a>图片圆角</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  margin: EdgeInsets.only(right: 5),</span><br><span class="line">  decoration: new BoxDecoration(</span><br><span class="line">    shape: BoxShape.circle,</span><br><span class="line">    image: new DecorationImage(</span><br><span class="line">      image: new NetworkImage(avatarUrl),</span><br><span class="line">    )</span><br><span class="line">  ),</span><br><span class="line">  width: 30,</span><br><span class="line">  height: 30,</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<h4 id="数组里动态添加组件"><a href="#数组里动态添加组件" class="headerlink" title="数组里动态添加组件"></a>数组里动态添加组件</h4><p><a target="_blank" rel="noopener" href="https://github.com/flutter/flutter/issues/3783">https://github.com/flutter/flutter/issues/3783</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bool notNull(Object o) =&gt; o != null;</span><br><span class="line">Widget build() &#123;</span><br><span class="line">  return new Column(</span><br><span class="line">    children: &lt;Widget&gt;[</span><br><span class="line">      new Title(),</span><br><span class="line">      new Body(),</span><br><span class="line">      shouldShowFooter ? new Footer() : null</span><br><span class="line">    ].where(notNull).toList(),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Text显示指定行数，超出后显示省略号"><a href="#Text显示指定行数，超出后显示省略号" class="headerlink" title="Text显示指定行数，超出后显示省略号"></a>Text显示指定行数，超出后显示省略号</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">    content,</span><br><span class="line">    maxLines: 3,</span><br><span class="line">    overflow: TextOverflow.ellipsis,</span><br><span class="line">    style: new TextStyle(fontSize: 14, color: Colors.black54),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>


<h4 id="margin-负值"><a href="#margin-负值" class="headerlink" title="margin 负值"></a>margin 负值</h4><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/42257668/the-equivalent-of-wrap-content-and-match-parent-in-flutter">https://stackoverflow.com/questions/42257668/the-equivalent-of-wrap-content-and-match-parent-in-flutter</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">return Container(</span><br><span class="line">  width: 40,</span><br><span class="line">  height:40,</span><br><span class="line">  // flutter中的margin没有负值的说法</span><br><span class="line">  // https://stackoverflow.com/questions/42257668/the-equivalent-of-wrap-content-and-match-parent-in-flutter</span><br><span class="line">  transform: Matrix4.translationValues(-20.0, 0.0, 0.0),</span><br><span class="line">  decoration: new BoxDecoration(</span><br><span class="line">    border: Border.all(width: 3, color: Colors.white),</span><br><span class="line">    color: Colors.black,</span><br><span class="line">    shape: BoxShape.circle,</span><br><span class="line">    image: new DecorationImage(</span><br><span class="line">      image: new NetworkImage(&#x27;https://pic3.zhimg.com/50/d2af1b6b1_s.jpg&#x27;)</span><br><span class="line">    )</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>


<h4 id="图片自适应填满container"><a href="#图片自适应填满container" class="headerlink" title="图片自适应填满container"></a>图片自适应填满container</h4><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/45745448/how-do-i-stretch-an-image-to-fit-the-whole-background-100-height-x-100-width">https://stackoverflow.com/questions/45745448/how-do-i-stretch-an-image-to-fit-the-whole-background-100-height-x-100-width</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new Container(</span><br><span class="line">  height: 200,</span><br><span class="line">  decoration: new BoxDecoration(</span><br><span class="line">    image: new DecorationImage(</span><br><span class="line">      image: NetworkImage(&#x27;https://pic3.zhimg.com/50/v2-f9fd4b13a46f2800a7049a5724e5969f_400x224.jpg&#x27;),</span><br><span class="line">      fit: BoxFit.fill</span><br><span class="line">    )</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<h4 id="布局方式"><a href="#布局方式" class="headerlink" title="布局方式"></a>布局方式</h4><p>justify-content: mainAxisAlignment<br>align-items:  crossAxisAlignment</p>
<p>column 设置crossAxisAlignment: stretch后子元素宽度为100%，如果想让子元素宽度不为100%， 将其包裹在Row元素中即可。</p>
<h4 id="flutter-row-and-column"><a href="#flutter-row-and-column" class="headerlink" title="flutter row and column"></a>flutter row and column</h4><p><a target="_blank" rel="noopener" href="https://medium.com/jlouage/flutter-row-column-cheat-sheet-78c38d242041">https://medium.com/jlouage/flutter-row-column-cheat-sheet-78c38d242041</a></p>
<h4 id="捕捉点击事件"><a href="#捕捉点击事件" class="headerlink" title="捕捉点击事件"></a>捕捉点击事件</h4><p>使用<code>GestureDetector</code>包裹<code>widget</code>即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">child: new GestureDetector(</span><br><span class="line">    onTap: click,</span><br><span class="line">    child: Text(</span><br><span class="line">      name,</span><br><span class="line">      style: TextStyle(color: Colors.black87),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<h4 id="Dart-数组方法"><a href="#Dart-数组方法" class="headerlink" title="Dart 数组方法"></a>Dart 数组方法</h4><p><a target="_blank" rel="noopener" href="https://codeburst.io/top-10-array-utility-methods-you-should-know-dart-feb2648ee3a2">https://codeburst.io/top-10-array-utility-methods-you-should-know-dart-feb2648ee3a2</a></p>
<h4 id="PopupMenuButton-下拉弹窗菜单"><a href="#PopupMenuButton-下拉弹窗菜单" class="headerlink" title="PopupMenuButton 下拉弹窗菜单"></a>PopupMenuButton 下拉弹窗菜单</h4><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43349013/how-to-open-a-popupmenubutton">https://stackoverflow.com/questions/43349013/how-to-open-a-popupmenubutton</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">class DetailPage extends StatefulWidget &#123;</span><br><span class="line">  @override</span><br><span class="line">  DetailPageState createState() =&gt; DetailPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class DetailPageState extends State&lt;DetailPage&gt; &#123;</span><br><span class="line">  final GlobalKey _menuKey = new GlobalKey();</span><br><span class="line">....</span><br><span class="line">....</span><br><span class="line">....</span><br><span class="line">  </span><br><span class="line">child: new Row(</span><br><span class="line">    children: &lt;Widget&gt;[</span><br><span class="line">      new Container(</span><br><span class="line">        child: new GestureDetector(</span><br><span class="line">          onTap: () &#123;</span><br><span class="line">            dynamic state = _menuKey.currentState;</span><br><span class="line">            state.showButtonMenu();</span><br><span class="line">          &#125;,</span><br><span class="line">          child: new Container(</span><br><span class="line">            child: new Text(&#x27;默认排序&#x27;),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      new PopupMenuButton(</span><br><span class="line">        icon: Icon(Icons.keyboard_arrow_down),</span><br><span class="line">        offset: Offset(0, 50),</span><br><span class="line">        key: _menuKey,</span><br><span class="line">        itemBuilder: (_) =&gt; &lt;PopupMenuItem&lt;String&gt;&gt;[</span><br><span class="line">          new PopupMenuItem&lt;String&gt;(</span><br><span class="line">              child: const Text(&#x27;默认排序&#x27;), value: &#x27;default&#x27;),</span><br><span class="line">          new PopupMenuItem&lt;String&gt;(</span><br><span class="line">              child: const Text(&#x27;按时间排序&#x27;), value: &#x27;timeline&#x27;),</span><br><span class="line">        ],</span><br><span class="line">        onSelected: (_) &#123;&#125;</span><br><span class="line">      )</span><br><span class="line">      </span><br><span class="line">    ],</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477176736745.jpg!ghost"></p>
<h3 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h3><p>水平分割线  Divider<br>垂直分割线  VerticalDivider (无效？？？)</p>
<h3 id="swiper"><a href="#swiper" class="headerlink" title="swiper"></a>swiper</h3><p><a target="_blank" rel="noopener" href="https://pub.dartlang.org/packages/flutter_swiper">https://pub.dartlang.org/packages/flutter_swiper</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;package:flutter_swiper/flutter_swiper.dart&#x27;;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">var images = [</span><br><span class="line">  &#x27;https://pic3.zhimg.com/v2-5806d9e33e36fa772c8da56c931bb416_b.jpg&#x27;,</span><br><span class="line">  &#x27;https://pic1.zhimg.com/50/v2-f355ca177e011626938b479f0e2e3e03_hd.jpg&#x27;,</span><br><span class="line">  &#x27;https://pic2.zhimg.com/v2-d8e47ed961b93b875ad814104016bdfd_b.jpg&#x27;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">child: new Swiper(</span><br><span class="line">    itemBuilder: (BuildContext context,int index)&#123;</span><br><span class="line">      return new Image.network(images[index], fit: BoxFit.cover,);</span><br><span class="line">    &#125;,</span><br><span class="line">    itemCount: 3,</span><br><span class="line">    pagination: new SwiperPagination(),</span><br><span class="line">    //control: new SwiperControl(),</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<h3 id="floatingActionButton-浮动button"><a href="#floatingActionButton-浮动button" class="headerlink" title="floatingActionButton 浮动button"></a>floatingActionButton 浮动button</h3><p><a target="_blank" rel="noopener" href="https://proandroiddev.com/a-deep-dive-into-floatingactionbutton-in-flutter-bf95bee11627">https://proandroiddev.com/a-deep-dive-into-floatingactionbutton-in-flutter-bf95bee11627</a></p>
<p>floatingActionButton 配合 Scaffold 使用最佳</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Scaffold(</span><br><span class="line">    floatingActionButton: new FloatingActionButton(</span><br><span class="line">        onPressed: ()&#123;&#125;,</span><br><span class="line">        child: Icon(Icons.edit),</span><br><span class="line">        //mini: true,</span><br><span class="line">      ),</span><br><span class="line">    // 默认右下角，可设置位置。</span><br><span class="line">    floatingActionButtonLocation: FloatingActionButtonLocation.centerFloat,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="滑动视图"><a href="#滑动视图" class="headerlink" title="滑动视图"></a>滑动视图</h3><p>SingleChildScrollView</p>
<p>水平方向滑动 <code>scrollDirection: Axis.horizontal</code></p>
<h3 id="高斯模糊"><a href="#高斯模糊" class="headerlink" title="高斯模糊"></a>高斯模糊</h3><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/43550853/how-do-i-do-the-frosted-glass-effect-in-flutter">https://stackoverflow.com/questions/43550853/how-do-i-do-the-frosted-glass-effect-in-flutter</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;dart:ui&#x27;;</span><br><span class="line"></span><br><span class="line">new BackdropFilter(</span><br><span class="line">    filter: new ImageFilter.blur(sigmaX: 10.0, sigmaY: 10.0),</span><br><span class="line">    child: Text(desc, style: TextStyle(color: Colors.white),),</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<h3 id="对话框弹窗"><a href="#对话框弹窗" class="headerlink" title="对话框弹窗"></a>对话框弹窗</h3><p><a target="_blank" rel="noopener" href="https://docs.flutter.io/flutter/material/AlertDialog-class.html">https://docs.flutter.io/flutter/material/AlertDialog-class.html</a></p>
<p>AlertDialog</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">void _showDialog(BuildContext context) &#123;</span><br><span class="line">    // flutter defined function</span><br><span class="line">    showDialog(</span><br><span class="line">      context: context,</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        // return object of type Dialog</span><br><span class="line">        return AlertDialog(</span><br><span class="line">          title: Text(&#x27;Rewind and remember&#x27;),</span><br><span class="line">          content: SingleChildScrollView(</span><br><span class="line">            child: ListBody(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                Text(&#x27;You will never be satisfied.&#x27;),</span><br><span class="line">                Text(&#x27;You\’re like me. I’m never satisfied.&#x27;),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          actions: &lt;Widget&gt;[</span><br><span class="line">            // usually buttons at the bottom of the dialog</span><br><span class="line">            new FlatButton(</span><br><span class="line">              child: new Text(&quot;Close&quot;),</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop();</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">// 调用</span><br><span class="line">....</span><br><span class="line">onPressed: ()&#123;</span><br><span class="line">  _showDialog(context);</span><br><span class="line">&#125;,</span><br><span class="line">....</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478804991394.jpg!ghost"></p>
<h4 id="HTTP-请求、JSON编码解码"><a href="#HTTP-请求、JSON编码解码" class="headerlink" title="HTTP 请求、JSON编码解码"></a>HTTP 请求、JSON编码解码</h4><p><a target="_blank" rel="noopener" href="https://flutterchina.club/networking/">https://flutterchina.club/networking/</a></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:convert&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> request = <span class="keyword">await</span> httpClient.getUrl(<span class="built_in">Uri</span>.parse(url));</span><br><span class="line">  <span class="keyword">var</span> response = <span class="keyword">await</span> request.close();</span><br><span class="line">  <span class="keyword">if</span> (response.statusCode == HttpStatus.OK) &#123;</span><br><span class="line">    <span class="keyword">var</span> json = <span class="keyword">await</span> response.transform(UTF8.decoder).join();</span><br><span class="line">    <span class="keyword">var</span> data = JSON.decode(json);</span><br><span class="line">    result = data[<span class="string">&#x27;origin&#x27;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    result =</span><br><span class="line">        <span class="string">&#x27;Error getting IP address:\nHttp status <span class="subst">$&#123;response.statusCode&#125;</span>&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (exception) &#123;</span><br><span class="line">  result = <span class="string">&#x27;Failed getting IP address&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 保存返回的数据</span></span><br><span class="line"><span class="comment">// error: setState() called after dispose()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// If the widget was removed from the tree while the message was in flight,</span></span><br><span class="line"><span class="comment">// we want to discard the reply rather than calling setState to update our</span></span><br><span class="line"><span class="comment">// non-existent appearance.</span></span><br><span class="line"><span class="keyword">if</span> (!mounted) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">setState(() &#123;</span><br><span class="line">  _ipAddress = result;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="时间控制：延时"><a href="#时间控制：延时" class="headerlink" title="时间控制：延时"></a>时间控制：延时</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import &#x27;dart:async&#x27;;</span><br><span class="line">Future&lt;Null&gt; _onRefresh() &#123;</span><br><span class="line">    Completer&lt;Null&gt; completer = new Completer&lt;Null&gt;();</span><br><span class="line"></span><br><span class="line">    new Timer(new Duration(seconds: 3), () &#123;</span><br><span class="line">      print(&quot;timer complete&quot;);</span><br><span class="line">      completer.complete();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return completer.future;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="下拉刷新-RefreshIndicator"><a href="#下拉刷新-RefreshIndicator" class="headerlink" title="下拉刷新 RefreshIndicator"></a>下拉刷新 RefreshIndicator</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new RefreshIndicator(</span><br><span class="line">  onRefresh: _onRefresh,</span><br><span class="line">  child: new SingleChildScrollView(</span><br><span class="line">    child: new Container(</span><br><span class="line">      padding: EdgeInsets.all(10),</span><br><span class="line">      child: new Text(_jsonData),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="上拉加载更多"><a href="#上拉加载更多" class="headerlink" title="上拉加载更多"></a>上拉加载更多</h3><p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b3abfc4518825622c14a6f1">https://juejin.im/post/5b3abfc4518825622c14a6f1</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ScrollController _controller = new ScrollController();</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    super.initState();</span><br><span class="line">    _controller.addListener(()&#123;</span><br><span class="line">      if(_controller.position.pixels == _controller.position.maxScrollExtent) &#123;</span><br><span class="line">        print(&#x27;下拉加载&#x27;);</span><br><span class="line">        _getMoreData();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @override</span><br><span class="line">  void dispose() &#123;</span><br><span class="line">    _controller.dispose();</span><br><span class="line">    super.dispose();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  ...</span><br><span class="line">  scroll controller: _controller</span><br><span class="line">  ...</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h3 id="flutter运行模式"><a href="#flutter运行模式" class="headerlink" title="flutter运行模式"></a>flutter运行模式</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/4db65478aaa3">https://www.jianshu.com/p/4db65478aaa3</a></p>
<h3 id="flutter学习资源"><a href="#flutter学习资源" class="headerlink" title="flutter学习资源"></a>flutter学习资源</h3><p><a target="_blank" rel="noopener" href="http://flutter.link/">http://flutter.link/</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">➜  zh git:(master) ✗ flutter clean</span><br><span class="line">Deleting &#x27;build/&#x27;.</span><br><span class="line">➜  zh git:(master) ✗ rm -rf ios/Flutter/App.framework ios/Flutter/Flutter.framework</span><br><span class="line">➜  zh git:(master) ✗ rm -rf /Users/ludis/Library/Developer/Xcode/DerivedData/Runner-</span><br></pre></td></tr></table></figure>

<h3 id="报错解决"><a href="#报错解决" class="headerlink" title="报错解决"></a>报错解决</h3><p>1、在安卓真机release后 ios simulator无法编译</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Launching lib/main.dart on iPhone X in debug mode...</span><br><span class="line">Xcode build done.                                            1.0s</span><br><span class="line">Failed to build iOS app</span><br><span class="line">Error output from Xcode build:</span><br><span class="line">↳</span><br><span class="line">** BUILD FAILED **</span><br><span class="line">Xcode&#x27;s output:</span><br><span class="line">↳</span><br><span class="line">=== BUILD TARGET Runner OF PROJECT Runner WITH CONFIGURATION Debug ===</span><br><span class="line">diff: /Users/ludis/Desktop/opt/flutter/zh/ios/Pods/Manifest.lock: No such file or directory</span><br><span class="line">error: The sandbox is not in sync with the Podfile.lock. Run &#x27;pod install&#x27; or update your CocoaPods installation.</span><br><span class="line">Could not build the application for the simulator.</span><br><span class="line">Error launching application on iPhone X.</span><br><span class="line">Exited (sigterm)</span><br></pre></td></tr></table></figure>

<p>解决</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ios</span><br><span class="line">pod install</span><br></pre></td></tr></table></figure>

<p>常见问题: <a target="_blank" rel="noopener" href="https://www.jianshu.com/p/bf3002de6a5e">https://www.jianshu.com/p/bf3002de6a5e</a></p>
<h3 id="Flutter-scroll-animation"><a href="#Flutter-scroll-animation" class="headerlink" title="Flutter scroll animation"></a>Flutter scroll animation</h3><p><a target="_blank" rel="noopener" href="https://medium.com/flutter-community/scrolling-animation-in-flutter-6a6718b8e34f">https://medium.com/flutter-community/scrolling-animation-in-flutter-6a6718b8e34f</a></p>
<h3 id="布局指南"><a href="#布局指南" class="headerlink" title="布局指南"></a>布局指南</h3><p>在scrollView的滚动布局中，如果使用column组件，并为其添加Expanded扩展子组件的话，这两者会存在冲突。<br>如果坚持要使用此布局，在column设置<code>mainAxisSize: MainAxisSize.min</code>，同时子组件由<code>Expanded</code>改为<code>Flexible</code>即可。</p>
<h3 id="表单、校验"><a href="#表单、校验" class="headerlink" title="表单、校验"></a>表单、校验</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/pengshaomin/p/8945720.html">https://www.cnblogs.com/pengshaomin/p/8945720.html</a></p>
<p>1、单行文本输入框 TextFormField</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">new TextFormField(</span><br><span class="line">    maxLength: 32,</span><br><span class="line">    onSaved: (val)=&gt; this._config = val,</span><br><span class="line">    validator: (v)=&gt;(v == null || v.isEmpty)?&quot;请选择配置&quot;: null,</span><br><span class="line">    decoration: new InputDecoration(</span><br><span class="line">      labelText: &#x27;配置&#x27;,</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477173563724.jpg!ghost"></p>
<p>2、多行输入框 <code>keyboardType: TextInputType.multiline,</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new TextField(</span><br><span class="line">    keyboardType: TextInputType.multiline,</span><br><span class="line">    maxLines: 3,</span><br><span class="line">    maxLength: 100,</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477172797449.jpg!ghost"></p>
<p>2、单选Radio</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">new Radio(</span><br><span class="line">    groupValue: this.radio,</span><br><span class="line">    activeColor: Colors.blue,</span><br><span class="line">    value: &#x27;aaa&#x27;,</span><br><span class="line">    onChanged: (String val) &#123;</span><br><span class="line">      // val 与 value 的类型对应</span><br><span class="line">      this.setState(() &#123;</span><br><span class="line">        this.radio = val;  // aaa</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477172439574.jpg!ghost"></p>
<p>3、复选 CheckBox</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">new Checkbox(</span><br><span class="line">    value: flutter,</span><br><span class="line">    activeColor: Colors.blue,</span><br><span class="line">    onChanged: (val) &#123;</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        flutter = val;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">  ),</span><br></pre></td></tr></table></figure>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477172267230.jpg!ghost"></p>
<p>4、switch</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> Switch(</span><br><span class="line">  activeColor: Colors.green,</span><br><span class="line">  value: flutter,</span><br><span class="line">  onChanged: (val) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      flutter = val;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477172073429.jpg!ghost"></p>
<p>5、slider</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">new Slider(</span><br><span class="line">  value: _slider,</span><br><span class="line">  min: 0.0,</span><br><span class="line">  max: 100.0,</span><br><span class="line">  onChanged: (val) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _slider = val;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">),</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477171919844.jpg!ghost"></p>
<p>6、DateTimePicker</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置存储日期的变量</span></span><br><span class="line"><span class="built_in">DateTime</span> _dateTime = <span class="keyword">new</span> <span class="built_in">DateTime</span>.now();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显示文字Text，设置点击事件，点击后打开日期选择器</span></span><br><span class="line">  <span class="keyword">new</span> GestureDetector(</span><br><span class="line">    onTap: ()&#123;</span><br><span class="line">      _showDatePicker();</span><br><span class="line">    &#125;,</span><br><span class="line">    child: <span class="keyword">new</span> Container(</span><br><span class="line">      child: <span class="keyword">new</span> Text(_dateTime.toLocal().toString()),</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 打开日期选择器</span></span><br><span class="line">  <span class="keyword">void</span> _showDatePicker() &#123;</span><br><span class="line">    _selectDate(context);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;<span class="built_in">Null</span>&gt; _selectDate(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="built_in">DateTime</span> _picked = <span class="keyword">await</span> showDatePicker(</span><br><span class="line">      context: context,</span><br><span class="line">      initialDate: _dateTime,</span><br><span class="line">      firstDate: <span class="keyword">new</span> <span class="built_in">DateTime</span>(<span class="number">2016</span>),</span><br><span class="line">      lastDate: <span class="keyword">new</span> <span class="built_in">DateTime</span>(<span class="number">2050</span>)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(_picked != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="built_in">print</span>(_picked);</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        _dateTime = _picked;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477170908533.jpg!ghost"></p>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477171059841.jpg!ghost"></p>
<p>7、TimePIcker</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">  TimeOfDay _time = <span class="keyword">new</span> TimeOfDay.now();</span><br><span class="line">  </span><br><span class="line"><span class="comment">// text显示当前时间</span></span><br><span class="line"><span class="keyword">new</span> GestureDetector(</span><br><span class="line">    onTap: _showTimePicker,</span><br><span class="line">    child: <span class="keyword">new</span> Text(_time.format(context)),</span><br><span class="line">  ),</span><br><span class="line">  </span><br><span class="line"><span class="comment">// 显示timpicker</span></span><br><span class="line">  <span class="keyword">void</span> _showTimePicker()&#123;</span><br><span class="line">    _selectTime(context);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;<span class="built_in">Null</span>&gt; _selectTime(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> TimeOfDay _picker = <span class="keyword">await</span> showTimePicker(</span><br><span class="line">      context: context,</span><br><span class="line">      initialTime: _time,</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">if</span>(_picker != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="built_in">print</span>(_picker);</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        _time = _picker;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477174977571.jpg!ghost"></p>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15477170712000.jpg!ghost"></p>
<h3 id="Toast-showSnackBar"><a href="#Toast-showSnackBar" class="headerlink" title="Toast/showSnackBar"></a>Toast/showSnackBar</h3><p><strong>showSnackBar:</strong></p>
<p><a target="_blank" rel="noopener" href="https://material.io/design/components/snackbars.html#usage">https://material.io/design/components/snackbars.html#usage</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">void _showToast(BuildContext context) &#123;</span><br><span class="line">  final scaffold = Scaffold.of(context);</span><br><span class="line">  scaffold.showSnackBar(</span><br><span class="line">    SnackBar(</span><br><span class="line">      content: const Text(&#x27;Added to favorite&#x27;),</span><br><span class="line">      action: SnackBarAction(</span><br><span class="line">        label: &#x27;UNDO&#x27;, </span><br><span class="line">        onPressed: scaffold.hideCurrentSnackBar</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Toast:</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/PonnamKarthik/FlutterToast">https://github.com/PonnamKarthik/FlutterToast</a></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _showToast(<span class="built_in">String</span> title) &#123;</span><br><span class="line">  Fluttertoast.showToast(</span><br><span class="line">    msg: title,</span><br><span class="line">    toastLength: Toast.LENGTH_SHORT,</span><br><span class="line">    gravity: ToastGravity.CENTER,</span><br><span class="line">    timeInSecForIos: <span class="number">1</span>,</span><br><span class="line">    backgroundColor: Color.fromRGBO(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.85</span>),</span><br><span class="line">    textColor: Colors.white</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Popover-popup"><a href="#Popover-popup" class="headerlink" title="Popover/popup"></a>Popover/popup</h3><p><strong>popup:</strong> CupertinoActionSheet</p>
<p><a target="_blank" rel="noopener" href="http://flatteredwithflutter.com/actionsheet-in-flutter/">http://flatteredwithflutter.com/actionsheet-in-flutter/</a></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> MaterialButton(</span><br><span class="line">  onPressed: () &#123;</span><br><span class="line">    _showActionSheet();</span><br><span class="line">  &#125;,</span><br><span class="line">  child: <span class="keyword">new</span> Text(<span class="string">&#x27;show ActionSheet&#x27;</span>, style: TextStyle(color: Colors.white),),</span><br><span class="line">  color: Colors.greenAccent,</span><br><span class="line">),</span><br><span class="line">                        </span><br><span class="line"><span class="keyword">void</span> _showActionSheet() &#123;</span><br><span class="line">  showCupertinoModalPopup(</span><br><span class="line">    context: context,</span><br><span class="line">    builder: (BuildContext context) =&gt; actionSheet(),</span><br><span class="line">  ).then((value) &#123;</span><br><span class="line">    Scaffold.of(context).showSnackBar(<span class="keyword">new</span> SnackBar(</span><br><span class="line">      content: <span class="keyword">new</span> Text(<span class="string">&#x27;You clicked <span class="subst">$value</span>&#x27;</span>),</span><br><span class="line">    ));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Widget actionSheet()&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> CupertinoActionSheet(</span><br><span class="line">    title: <span class="keyword">new</span> Text(<span class="string">&#x27;title&#x27;</span>),</span><br><span class="line">    message: <span class="keyword">const</span> Text(<span class="string">&#x27;your options are&#x27;</span>),</span><br><span class="line">    actions: &lt;Widget&gt;[</span><br><span class="line">      CupertinoActionSheetAction(</span><br><span class="line">        child: <span class="keyword">const</span> Text(<span class="string">&#x27;yes&#x27;</span>),</span><br><span class="line">        onPressed: ()&#123;</span><br><span class="line">          Navigator.pop(context, <span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      ),</span><br><span class="line">      CupertinoActionSheetAction(</span><br><span class="line">        child: <span class="keyword">const</span> Text(<span class="string">&#x27;no&#x27;</span>),</span><br><span class="line">        onPressed: ()&#123;</span><br><span class="line">          Navigator.pop(context, <span class="string">&#x27;no&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      )</span><br><span class="line">    ],</span><br><span class="line">    cancelButton: CupertinoActionSheetAction(</span><br><span class="line">      child: <span class="keyword">new</span> Text(<span class="string">&#x27;cancel&#x27;</span>),</span><br><span class="line">      onPressed: () &#123;</span><br><span class="line">        Navigator.pop(context, <span class="string">&#x27;Cancel&#x27;</span>);</span><br><span class="line">      &#125;,</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478083088933.jpg!ghost"></p>
<h3 id="IOS风格组件"><a href="#IOS风格组件" class="headerlink" title="IOS风格组件"></a>IOS风格组件</h3><p><a target="_blank" rel="noopener" href="https://flutter-es.io/widgets/cupertino/">https://flutter-es.io/widgets/cupertino/</a></p>
<h3 id="Dismissible-滑动删除"><a href="#Dismissible-滑动删除" class="headerlink" title="Dismissible 滑动删除"></a>Dismissible 滑动删除</h3><p><a target="_blank" rel="noopener" href="https://flutter.io/docs/cookbook/gestures/dismissible">https://flutter.io/docs/cookbook/gestures/dismissible</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">new Dismissible(</span><br><span class="line">  // Each Dismissible must contain a Key. Keys allow Flutter to</span><br><span class="line">  // uniquely identify Widgets.</span><br><span class="line">  key: Key(item),</span><br><span class="line">  onDismissed: (direction) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      items.removeAt(index);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    // Then show a snackbar!</span><br><span class="line">    Scaffold.of(context)</span><br><span class="line">        .showSnackBar(SnackBar(content: Text(&quot;$item dismissed&quot;)));</span><br><span class="line">  &#125;,</span><br><span class="line">  // Show a red background as the item is swiped away</span><br><span class="line">  background: Container(color: Colors.red),</span><br><span class="line">  child: ListTile(title: Text(&#x27;$item&#x27;)),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>


<h3 id="Swipe-左滑右滑删除"><a href="#Swipe-左滑右滑删除" class="headerlink" title="Swipe 左滑右滑删除"></a>Swipe 左滑右滑删除</h3><p><a target="_blank" rel="noopener" href="https://github.com/letsar/flutter_slidable">https://github.com/letsar/flutter_slidable</a></p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">Widget _swipe(<span class="built_in">int</span> i, <span class="built_in">String</span> title, <span class="built_in">String</span> desc) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Slidable(</span><br><span class="line">    delegate: <span class="keyword">new</span> SlidableDrawerDelegate(),</span><br><span class="line">    actionExtentRatio: <span class="number">0.25</span>,</span><br><span class="line">    child: <span class="keyword">new</span> Container(</span><br><span class="line">      color: Colors.white,</span><br><span class="line">      child: <span class="keyword">new</span> GestureDetector(</span><br><span class="line">        onTap: ()&#123;&#125;,</span><br><span class="line">        onDoubleTap: ()&#123;&#125;,</span><br><span class="line">        onLongPress: ()&#123;&#125;,</span><br><span class="line">        child: <span class="keyword">new</span> ListTile(</span><br><span class="line">          leading: <span class="keyword">new</span> CircleAvatar(</span><br><span class="line">            backgroundColor: Colors.grey[<span class="number">200</span>],</span><br><span class="line">            child: <span class="keyword">new</span> Text(</span><br><span class="line">              <span class="string">&#x27;<span class="subst">$i</span>&#x27;</span>,</span><br><span class="line">              style: TextStyle(color: Colors.orange),</span><br><span class="line">            ),</span><br><span class="line">            foregroundColor: Colors.white,</span><br><span class="line">          ),</span><br><span class="line">          title: <span class="keyword">new</span> Text(</span><br><span class="line">            <span class="string">&#x27;<span class="subst">$title</span>&#x27;</span>,</span><br><span class="line">            maxLines: <span class="number">1</span>,</span><br><span class="line">            overflow: TextOverflow.ellipsis,</span><br><span class="line">            style: TextStyle(color: Colors.black87, fontSize: <span class="number">16</span>),</span><br><span class="line">          ),</span><br><span class="line">          subtitle: <span class="keyword">new</span> Text(</span><br><span class="line">            <span class="string">&#x27;<span class="subst">$desc</span>&#x27;</span>,</span><br><span class="line">            style: TextStyle(color: Colors.blue[<span class="number">300</span>]),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      )</span><br><span class="line">    ),</span><br><span class="line">    actions: &lt;Widget&gt;[</span><br><span class="line">      <span class="keyword">new</span> IconSlideAction(</span><br><span class="line">        caption: <span class="string">&#x27;Archive&#x27;</span>,</span><br><span class="line">        color: Colors.blue,</span><br><span class="line">        icon: Icons.archive,</span><br><span class="line">        onTap: () =&gt; _showSnackBar(<span class="string">&#x27;Archive&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">      <span class="keyword">new</span> IconSlideAction(</span><br><span class="line">        caption: <span class="string">&#x27;Share&#x27;</span>,</span><br><span class="line">        color: Colors.indigo,</span><br><span class="line">        icon: Icons.share,</span><br><span class="line">        onTap: () =&gt; _showSnackBar(<span class="string">&#x27;Share&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">    secondaryActions: &lt;Widget&gt;[</span><br><span class="line">      <span class="keyword">new</span> IconSlideAction(</span><br><span class="line">        caption: <span class="string">&#x27;More&#x27;</span>,</span><br><span class="line">        color: Colors.black45,</span><br><span class="line">        icon: Icons.more_horiz,</span><br><span class="line">        onTap: () =&gt; _showSnackBar(<span class="string">&#x27;More&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">      <span class="keyword">new</span> IconSlideAction(</span><br><span class="line">        caption: <span class="string">&#x27;Delete&#x27;</span>,</span><br><span class="line">        color: Colors.red,</span><br><span class="line">        icon: Icons.delete,</span><br><span class="line">        onTap: () =&gt; _showSnackBar(<span class="string">&#x27;Delete&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478783652757.jpg!ghost"></p>
<h3 id="常用手势-GestureDetector"><a href="#常用手势-GestureDetector" class="headerlink" title="常用手势 GestureDetector"></a>常用手势 GestureDetector</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new GestureDetector(</span><br><span class="line">  onTap: ()&#123;_showToast(&#x27;点击: $i&#x27;);&#125;,</span><br><span class="line">  onDoubleTap: ()&#123;_showToast(&#x27;连点: $i&#x27;);&#125;,</span><br><span class="line">  onLongPress: ()&#123;_showToast(&#x27;长按: $i&#x27;);&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>


<h3 id="flutter-常用组件"><a href="#flutter-常用组件" class="headerlink" title="flutter 常用组件"></a>flutter 常用组件</h3><p><a target="_blank" rel="noopener" href="https://github.com/flutter/plugins">https://github.com/flutter/plugins</a></p>
<h3 id="camera-image-picker"><a href="#camera-image-picker" class="headerlink" title="camera / image_picker"></a>camera / image_picker</h3><p><a target="_blank" rel="noopener" href="https://medium.com/flutter-community/implementing-camera-feature-in-flutter-f7f6a7a5e6dd">https://medium.com/flutter-community/implementing-camera-feature-in-flutter-f7f6a7a5e6dd</a></p>
<p>image_picker： (最常用场景，从相册选择或拍照得到照片)</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dynamic</span> _picture;</span><br><span class="line"><span class="built_in">dynamic</span> _gallery;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> FlatButton.icon(</span><br><span class="line">  icon: Icon(Icons.camera),</span><br><span class="line">  label: Text(<span class="string">&#x27;选择头像&#x27;</span>),</span><br><span class="line">  onPressed: ()&#123;</span><br><span class="line">    _optionsDialogBox();</span><br><span class="line">  &#125;,</span><br><span class="line">),</span><br><span class="line">            </span><br><span class="line">Future&lt;<span class="keyword">void</span>&gt; _optionsDialogBox() &#123;</span><br><span class="line">  <span class="keyword">return</span> showDialog(context: context,</span><br><span class="line">    builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> AlertDialog(</span><br><span class="line">          content: <span class="keyword">new</span> SingleChildScrollView(</span><br><span class="line">            child: <span class="keyword">new</span> ListBody(</span><br><span class="line">              children: &lt;Widget&gt;[</span><br><span class="line">                GestureDetector(</span><br><span class="line">                  child: <span class="keyword">new</span> Text(<span class="string">&#x27;Take a picture&#x27;</span>),</span><br><span class="line">                  onTap: openCamera,</span><br><span class="line">                ),</span><br><span class="line">                Padding(</span><br><span class="line">                  padding: EdgeInsets.all(<span class="number">8.0</span>),</span><br><span class="line">                ),</span><br><span class="line">                GestureDetector(</span><br><span class="line">                  child: <span class="keyword">new</span> Text(<span class="string">&#x27;Select from gallery&#x27;</span>),</span><br><span class="line">                  onTap: openGallery,</span><br><span class="line">                ),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> openCamera() <span class="keyword">async</span> &#123;</span><br><span class="line">  Navigator.of(context).pop();</span><br><span class="line">  <span class="keyword">var</span> picture = <span class="keyword">await</span> ImagePicker.pickImage(</span><br><span class="line">    source: ImageSource.camera,</span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  setState(() &#123;</span><br><span class="line">    _picture = picture;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">void</span> openGallery() <span class="keyword">async</span> &#123;</span><br><span class="line">  Navigator.of(context).pop();</span><br><span class="line">  <span class="keyword">var</span> gallery = <span class="keyword">await</span> ImagePicker.pickImage(</span><br><span class="line">    source: ImageSource.gallery,</span><br><span class="line">  );</span><br><span class="line">  setState(() &#123;</span><br><span class="line">    _gallery = gallery;      </span><br><span class="line">  &#125;);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478902760777.jpg!ghost"><br><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478902961097.jpg!ghost"><br><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478903093117.jpg!ghost"><br><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478903169005.jpg!ghost"></p>
<p>camera：  (高阶用法，打开相机，实时获取相机流，可以定制拍照、录像等按钮。可用于相机扫码、实时识别、直播等场景)</p>
<p><a target="_blank" rel="noopener" href="https://pub.dartlang.org/packages/camera">https://pub.dartlang.org/packages/camera</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">camera: ^0.2.9</span><br><span class="line"></span><br><span class="line">import &#x27;package:camera/camera.dart&#x27;;</span><br><span class="line"></span><br><span class="line">class _CameraState extends State&lt;CameraWidget&gt; &#123;</span><br><span class="line">  List&lt;CameraDescription&gt; cameras;</span><br><span class="line">  CameraController controller;</span><br><span class="line">  bool _isReady = false;</span><br><span class="line"></span><br><span class="line">  @override</span><br><span class="line">  void initState() &#123;</span><br><span class="line">    super.initState();</span><br><span class="line">    _setupCameras();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;void&gt; _setupCameras() async &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      // initialize cameras.</span><br><span class="line">      cameras = await availableCameras();</span><br><span class="line">      // initialize camera controllers.</span><br><span class="line">      controller = new CameraController(cameras[0], ResolutionPreset.medium);</span><br><span class="line">      await controller.initialize();</span><br><span class="line">    &#125; on CameraException catch (_) &#123;</span><br><span class="line">      // do something on error.</span><br><span class="line">    &#125;</span><br><span class="line">    if (!isMounted) return;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      _isReady = true;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    if (!_isReady) return new Container();</span><br><span class="line">    return new Container(</span><br><span class="line">        height: 200,</span><br><span class="line">        child: AspectRatio(</span><br><span class="line">          aspectRatio: controller.value.aspectRatio,</span><br><span class="line">          child: CameraPreview(controller),</span><br><span class="line">        ),</span><br><span class="line">      )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15478908406777.jpg!ghost"></p>
<h3 id="video-player"><a href="#video-player" class="headerlink" title="video player"></a>video player</h3><p><a target="_blank" rel="noopener" href="https://github.com/flutter/plugins/tree/master/packages/video_player">https://github.com/flutter/plugins/tree/master/packages/video_player</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">video_player: ^0.8.0</span><br><span class="line"></span><br><span class="line">import &#x27;package:video_player/video_player.dart&#x27;;</span><br><span class="line"></span><br><span class="line">VideoPlayerController _controller;</span><br><span class="line">bool _isPlaying = false;</span><br><span class="line"></span><br><span class="line">@override</span><br><span class="line">void initState() &#123;</span><br><span class="line">super.initState();</span><br><span class="line">_controller = VideoPlayerController.network(</span><br><span class="line">  &#x27;https://www.quirksmode.org/html5/videos/big_buck_bunny.mp4&#x27;,</span><br><span class="line">)</span><br><span class="line">  ..addListener(() &#123;</span><br><span class="line">    final bool isPlaying = _controller.value.isPlaying;</span><br><span class="line">    if (isPlaying != _isPlaying) &#123;</span><br><span class="line">      setState(() &#123;</span><br><span class="line">        _isPlaying = isPlaying;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  ..initialize().then((_) &#123;</span><br><span class="line">    // Ensure the first frame is shown after the video is initialized, even before the play button has been pressed.</span><br><span class="line">    setState(() &#123;&#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@override</span><br><span class="line">void dispose() &#123;</span><br><span class="line">    _controller?.dispose();</span><br><span class="line">    super.dispose();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 显示、控制</span><br><span class="line">  _controller.value.initialized</span><br><span class="line">  ? AspectRatio(</span><br><span class="line">      aspectRatio: _controller.value.aspectRatio,</span><br><span class="line">      child: new Container(</span><br><span class="line">        padding: EdgeInsets.all(10),</span><br><span class="line">        color: Colors.black,</span><br><span class="line">        child: VideoPlayer(_controller),</span><br><span class="line">        </span><br><span class="line">      ),</span><br><span class="line">    )</span><br><span class="line">  : Container(</span><br><span class="line">    child: new Text(&#x27;视频加载中~&#x27;),</span><br><span class="line">  ),</span><br><span class="line">  new FlatButton.icon(</span><br><span class="line">    label: Text(&#x27;播放/暂停&#x27;),</span><br><span class="line">    icon: Icon(</span><br><span class="line">      _controller.value.isPlaying ? Icons.pause : Icons.play_arrow,</span><br><span class="line">    ),</span><br><span class="line">    onPressed: _controller.value.isPlaying</span><br><span class="line">    ? _controller.pause</span><br><span class="line">    : _controller.play,</span><br><span class="line">  )</span><br></pre></td></tr></table></figure>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15479549937184.jpg!ghost"></p>
<h3 id="AudioPlayer"><a href="#AudioPlayer" class="headerlink" title="AudioPlayer"></a>AudioPlayer</h3><p><a target="_blank" rel="noopener" href="https://github.com/rxlabz/audioplayer">https://github.com/rxlabz/audioplayer</a></p>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15479571438277.jpg!ghost"></p>
<p>Flutter的学习还在路上，列了个To Do List。继续加油：</p>
<p><img src="https://ludis-1252396698.image.myqcloud.com/ghost/images/flutter/15479598688866.jpg!ghost"></p>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://img.ikstatic.cn/MTYzMTE3MTU3NDM3MCM1MzYjcG5n.png" alt="Ludis"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Ludis</p><p class="is-size-6 is-block">Valar Morghulis, Valar Dohaeris</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">177</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/flute" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/flute"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/3852099619"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:552452006@qq.com"><i class="far fa-envelope"></i></a></div></div></div><!--!--><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-06-30T07:42:16.000Z">2021-06-30</time></p><p class="title"><a href="/2021/06/30/React-Antd-Warning%E7%A7%BB%E9%99%A4%E5%A4%A7%E6%B3%95%E2%80%94%E2%80%94%E6%95%B4%E4%B8%AA%E4%B8%96%E7%95%8C%E6%B8%85%E5%87%80%E4%BA%86/">React/Antd Warning移除大法——整个世界清净了</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-05-14T10:41:14.000Z">2020-05-14</time></p><p class="title"><a href="/2020/05/14/IntersectionObserver/">IntersectionObserver</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-02-06T13:45:55.000Z">2020-02-06</time></p><p class="title"><a href="/2020/02/06/%E5%BE%AE%E5%B1%81%E6%81%A9%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97%E4%B9%8B-%E2%80%94%E2%80%94-V2Ray/">微屁恩使用指南之 —— V2Ray</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-12-10T07:45:26.000Z">2019-12-10</time></p><p class="title"><a href="/2019/12/10/H5%E5%9C%A8%E5%85%A8%E5%B1%8FWebview%E4%B8%AD%E5%8F%8C%E7%AB%AF%E9%80%82%E9%85%8D%E5%88%98%E6%B5%B7%E5%B1%8F/">H5在全屏Webview中双端适配刘海屏</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2019-07-25T09:58:45.000Z">2019-07-25</time></p><p class="title"><a href="/2019/07/25/vue-%E9%A1%B9%E7%9B%AE%E5%9C%A8%E4%BD%8E%E9%85%8D%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%BA%BF%E5%8F%8A%E4%BC%98%E5%8C%96/">vue 项目在低配机器上线及优化</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/02/"><span class="level-start"><span class="level-item">February 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">February 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">December 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">October 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/06/"><span class="level-start"><span class="level-item">June 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">May 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/03/"><span class="level-start"><span class="level-item">March 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/12/"><span class="level-start"><span class="level-item">December 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">November 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/10/"><span class="level-start"><span class="level-item">October 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/09/"><span class="level-start"><span class="level-item">September 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/08/"><span class="level-start"><span class="level-item">August 2016</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/07/"><span class="level-start"><span class="level-item">July 2016</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">February 2016</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/12/"><span class="level-start"><span class="level-item">December 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/11/"><span class="level-start"><span class="level-item">November 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/10/"><span class="level-start"><span class="level-item">October 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/09/"><span class="level-start"><span class="level-item">September 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/08/"><span class="level-start"><span class="level-item">August 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/07/"><span class="level-start"><span class="level-item">July 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/06/"><span class="level-start"><span class="level-item">June 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/05/"><span class="level-start"><span class="level-item">May 2015</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/04/"><span class="level-start"><span class="level-item">April 2015</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/03/"><span class="level-start"><span class="level-item">March 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/02/"><span class="level-start"><span class="level-item">February 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/01/"><span class="level-start"><span class="level-item">January 2015</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/12/"><span class="level-start"><span class="level-item">December 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/11/"><span class="level-start"><span class="level-item">November 2014</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/10/"><span class="level-start"><span class="level-item">October 2014</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/09/"><span class="level-start"><span class="level-item">September 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/08/"><span class="level-start"><span class="level-item">August 2014</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/07/"><span class="level-start"><span class="level-item">July 2014</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/06/"><span class="level-start"><span class="level-item">June 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/05/"><span class="level-start"><span class="level-item">May 2014</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/04/"><span class="level-start"><span class="level-item">April 2014</span></span><span class="level-end"><span class="level-item tag">14</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/03/"><span class="level-start"><span class="level-item">March 2014</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/02/"><span class="level-start"><span class="level-item">February 2014</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/01/"><span class="level-start"><span class="level-item">January 2014</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/12/"><span class="level-start"><span class="level-item">December 2013</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/11/"><span class="level-start"><span class="level-item">November 2013</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2013/10/"><span class="level-start"><span class="level-item">October 2013</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Flutter/"><span class="tag">Flutter</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ghost/"><span class="tag">Ghost</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/H5/"><span class="tag">H5</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTTPS/"><span class="tag">HTTPS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/React-Native/"><span class="tag">React Native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sublime/"><span class="tag">Sublime</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jQuery/"><span class="tag">jQuery</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/npm/"><span class="tag">npm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%88%AC%E8%99%AB/"><span class="tag">爬虫</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%B5%E8%A7%86%E5%89%A7/"><span class="tag">电视剧</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BE%8E%E9%A3%9F/"><span class="tag">美食</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E7%AC%94/"><span class="tag">随笔</span><span class="tag">3</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/facvion.png" alt="Hexo" height="28"></a><p class="is-size-7"><span>&copy; 2021 Ludis</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7"><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener">京ICP备19027325号-2</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/flute"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>